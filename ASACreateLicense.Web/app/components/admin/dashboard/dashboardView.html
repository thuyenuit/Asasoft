<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>Dashboard</h1>
    <ol class="breadcrumb"> 
        <li class="active"><i class="fa fa-dashboard"></i> Dashboard</li>
    </ol>
</section>

<div hidden id="dvReport">
    <iframe id="iframe" name="iframe" src="javascript:'';" style="visibility:hidden;" width="1px" height="1px"></iframe>
    <!--<CR:CrystalReportViewer ID="CrystalReportViewer1" runat="server" AutoDataBind="true" ToolPanelView="None" EnableDatabaseLogonPrompt="False" PrintMode="Pdf" />--> 
</div>  
<input hidden id="btnPrint" type="button" value="Print" onclick="Print()" /> 
<script type="text/javascript">
    function Print() {
        var dvReport = document.getElementById("dvReport");
        var frame1 = dvReport.getElementsByTagName("iframe")[0];
        if (navigator.appVersion.indexOf("Trident") != -1) {
            frame1.name = frame1.id;
            window.frames[frame1.id].focus();
            window.frames[frame1.id].print();
        } else {
            var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;
            frameDoc.print();
        }
    }
</script>  

<!-- Main content -->
<section class="content">
    <!-- Info boxes -->
    <div class="row">
        <div class="col-sm-6 col-xs-12">
            <div class="box box-danger">
                <div class="box-header with-border">
                    <h3 class="box-title">Donut Chart</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                        <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                    </div>
                </div>
                <div class="box-body chart-responsive">
                    <div class="chart" id="sales-chart" style="height: 300px; position: relative;"><svg height="300" version="1.1" width="325" xmlns="http://www.w3.org/2000/svg" style="overflow: hidden; position: relative;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with Raphaël 2.1.0</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></defs><path fill="none" stroke="#3c8dbc" d="M162.5,243.33333333333331A93.33333333333333,93.33333333333333,0,0,0,250.72775519497708,180.44625304313007" stroke-width="2" opacity="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 0;"></path><path fill="#3c8dbc" stroke="#ffffff" d="M162.5,246.33333333333331A96.33333333333333,96.33333333333333,0,0,0,253.56364732624417,181.4248826052307L290.1151459070204,194.03833029452744A135,135,0,0,1,162.5,285Z" stroke-width="3" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#f56954" d="M250.72775519497708,180.44625304313007A93.33333333333333,93.33333333333333,0,0,0,78.78484627831412,108.73398312817662" stroke-width="2" opacity="1" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 1;"></path><path fill="#f56954" stroke="#ffffff" d="M253.56364732624417,181.4248826052307A96.33333333333333,96.33333333333333,0,0,0,76.09400205154564,107.40757544301087L36.927269417471166,88.10097469226493A140,140,0,0,1,294.8416327924656,195.6693795646951Z" stroke-width="3" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><path fill="none" stroke="#00a65a" d="M78.78484627831412,108.73398312817662A93.33333333333333,93.33333333333333,0,0,0,162.47067846904883,243.333328727518" stroke-width="2" opacity="0" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); opacity: 0;"></path><path fill="#00a65a" stroke="#ffffff" d="M76.09400205154564,107.40757544301087A96.33333333333333,96.33333333333333,0,0,0,162.46973599126827,246.3333285794739L162.4575884998742,284.9999933380171A135,135,0,0,1,41.412009795418626,90.31165416754118Z" stroke-width="3" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path><text x="162.5" y="140" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: 800; font-stretch: normal; font-size: 15px; line-height: normal; font-family: Arial;" font-size="15px" font-weight="800" transform="matrix(1.4454,0,0,1.4454,-72.3668,-67.2487)" stroke-width="0.6918712797619048"><tspan dy="6" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">In-Store Sales</tspan></text><text x="162.5" y="160" text-anchor="middle" font="10px &quot;Arial&quot;" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 14px; line-height: normal; font-family: Arial;" font-size="14px" transform="matrix(1.9444,0,0,1.9444,-153.4722,-143.5556)" stroke-width="0.5142857142857143"><tspan dy="5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">30</tspan></text></svg></div>
                </div><!-- /.box-body -->
            </div>
        </div>
        

        <div class="col-md-3 col-sm-6 col-xs-12">
            <div class="info-box">
                <span class="info-box-icon bg-yellow"><i class="ion ion-ios-people-outline"></i></span>
                <div class="info-box-content">
                    <span class="info-box-text">Customer</span>
                    <span class="info-box-number">{{totalcount}}</span>
                </div><!-- /.info-box-content -->
            </div><!-- /.info-box -->
        </div><!-- /.col -->
    </div><!-- /.row -->
    <!-- Main row -->
    <div class="row">
        <!-- Left col -->
        <div class="col-md-6">
            <!-- MAP & BOX PANE -->
            <!-- TABLE: Request License -->
            <div class="box box-info">
                <div class="box-header with-border">
                    <h3 class="box-title">Request License Today</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                        <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                    </div>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table table-bordered" style="white-space:nowrap; ">
                            <tr>                             
                                <th class="text-center">STT</th>
                                <th class="text-center">Khách hàng</th>
                                <th class="text-center">Công ty</th>
                                <th class="text-center">Địa chỉ</th>                       
                                <th class="text-center">Điện thoại</th>                              
                                <th class="text-center">Máy chủ</th>    
                                <th class="text-center">Trạng thái</th>                               
                            </tr>
                            <tr ng-repeat="item in requestLicenses">                          
                                <td>{{$index + 1}}</td>
                                <td>{{item.CustomerName}}</td>
                                <td>{{item.Company}}</td>
                                <td>{{item.Address}}</td>                                
                                <td>{{item.Phone}}</td>                              
                                <td>{{item.ServerName}}</td> 
                                <td>{{item.StatusLicenseName}}</td>                                                   
                            </tr>
                        </table>
                        <div ng-if="loading">
                            <div class="col-xs-4"></div>
                            <div class="col-xs-4">
                                <i class="fa fa-refresh fa-2x fa-spin"></i> <label class="label label-primary">Đang tải dữ liệu...</label>
                            </div>
                            <div class="col-xs-4"></div>
                        </div>                   
                    </div><!-- /.table-responsive -->
                </div><!-- /.box-body -->
                <div class="box-footer clearfix">
                    <a  ng-click="viewAll()" class="btn btn-sm btn-default btn-flat pull-right">View All</a>
                </div><!-- /.box-footer -->
            </div><!-- /.box -->
        </div><!-- /.col -->

        <div class="col-md-6">
            <!-- MAP & BOX PANE -->
            <!-- TABLE: License Almost Expired -->
            <div class="box box-info">
                <div class="box-header with-border">
                    <h3 class="box-title">License Almost Expired</h3>
                    <div class="box-tools pull-right">
                        <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                        <button class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                    </div>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <div class="table-responsive">
                        <table class="table no-margin" style="white-space:nowrap">
                                <tr>
                                    <th style="width:5%">No</th>
                                    <th style="width:20%">Customer</th>
                                    <th style="width:20%">Company</th>
                                    <th style="width:30%">Address</th>
                                    <th style="width:10%">Phone</th>
                                    <th style="width:15%">Server name</th>
                                    <th style="width:15%">End date</th>
                                </tr>                         
                                <tr ng-repeat="item in licenseInfo" ng-style="item.Limit ? { 'background-color':'#FF6633'} : { 'background-color':'#99FFFF'}">
                                    <td>{{$index + 1}}</td>
                                    <td>{{item.CustomerName}}</td>
                                    <td>{{item.Company}}</td>
                                    <td>{{item.Address}}</td>
                                    <td>{{item.Phone}}</td>
                                    <td>{{item.ServerName}}</td>
                                    <td>{{item.EndDate | date: 'MM/dd/yyyy'}}</td>
                                </tr>
                        </table>
                        <div ng-if="loading2">
                            <div class="col-xs-4"></div>
                            <div class="col-xs-4">
                                <i class="fa fa-refresh fa-2x fa-spin"></i> <label class="label label-primary">Đang tải dữ liệu...</label>
                            </div>
                            <div class="col-xs-4"></div>
                        </div>
                    </div><!-- /.table-responsive -->
                </div><!-- /.box-body -->
                <div class="box-footer clearfix">
                    <a ng-click="viewAll2()" class="btn btn-sm btn-default btn-flat pull-right">View All</a>
                </div><!-- /.box-footer -->
            </div><!-- /.box -->
        </div><!-- /.col -->


    </div><!-- /.row -->
</section>
<!-- /.content -->

<!--<script>
    $(function () {
        "use strict";

        // AREA CHART
        var area = new Morris.Area({
            element: 'revenue-chart',
            resize: true,
            data: [
              { y: '2011 Q1', item1: 2666, item2: 2666 },
              { y: '2011 Q2', item1: 2778, item2: 2294 },
              { y: '2011 Q3', item1: 4912, item2: 1969 },
              { y: '2011 Q4', item1: 3767, item2: 3597 },
              { y: '2012 Q1', item1: 6810, item2: 1914 },
              { y: '2012 Q2', item1: 5670, item2: 4293 },
              { y: '2012 Q3', item1: 4820, item2: 3795 },
              { y: '2012 Q4', item1: 15073, item2: 5967 },
              { y: '2013 Q1', item1: 10687, item2: 4460 },
              { y: '2013 Q2', item1: 8432, item2: 5713 }
            ],
            xkey: 'y',
            ykeys: ['item1', 'item2'],
            labels: ['Item 1', 'Item 2'],
            lineColors: ['#a0d0e0', '#3c8dbc'],
            hideHover: 'auto'
        });

        // LINE CHART
        var line = new Morris.Line({
            element: 'line-chart',
            resize: true,
            data: [
              { y: '2011 Q1', item1: 2666 },
              { y: '2011 Q2', item1: 2778 },
              { y: '2011 Q3', item1: 4912 },
              { y: '2011 Q4', item1: 3767 },
              { y: '2012 Q1', item1: 6810 },
              { y: '2012 Q2', item1: 5670 },
              { y: '2012 Q3', item1: 4820 },
              { y: '2012 Q4', item1: 15073 },
              { y: '2013 Q1', item1: 10687 },
              { y: '2013 Q2', item1: 8432 }
            ],
            xkey: 'y',
            ykeys: ['item1'],
            labels: ['Item 1'],
            lineColors: ['#3c8dbc'],
            hideHover: 'auto'
        });

        //DONUT CHART
        var donut = new Morris.Donut({
            element: 'sales-chart',
            resize: true,
            colors: ["#3c8dbc", "#f56954", "#00a65a"],
            data: [
              { label: "Download Sales", value: 12 },
              { label: "In-Store Sales", value: 30 },
              { label: "Mail-Order Sales", value: 20 }
            ],
            hideHover: 'auto'
        });
        //BAR CHART
        var bar = new Morris.Bar({
            element: 'bar-chart',
            resize: true,
            data: [
              { y: '2006', a: 100, b: 90 },
              { y: '2007', a: 75, b: 65 },
              { y: '2008', a: 50, b: 40 },
              { y: '2009', a: 75, b: 65 },
              { y: '2010', a: 50, b: 40 },
              { y: '2011', a: 75, b: 65 },
              { y: '2012', a: 100, b: 90 }
            ],
            barColors: ['#00a65a', '#f56954'],
            xkey: 'y',
            ykeys: ['a', 'b'],
            labels: ['CPU', 'DISK'],
            hideHover: 'auto'
        });
    });
</script>-->
